---
marp: true
---

# Q5. Polymorphism and Composition

---

## Question 1

We have two classes, and both classes have the following traits:

- The same constructor that takes the `emp_list` parameter
- The same `_emp_list` member variable
- Similar structure and initialization logic

What duplication problem do you observe, and what is your solution to remove the duplication? (Hint: It is I in APIE)

---

**Answer:**

---

## Question 2

We have two report classes, and we have two different objects. We should run different functions for other objects.

```python
for report in reports:
    if isinstance(report, AccountingReport):
        report.print_accounting_report()
    else:
        report.print_staffing_report()
```

Why is this code with `isinstance()` a code smell? (Hint: notice the if statements).

---

**Answer:**

---

## Question 3

The code that uses `isinstance` is a code smell because of the following. Which is not correct?

- It breaks polymorphism principles
- Violates the Open/Closed Principle
- Makes code harder to extend (need to add more if/else for new report types)
- We can easily add if/else.

---

**Answer:**

---

## Question 4

This OOP idea means "one interface, many implementations" - same method name with different behaviors. (Hint: P in the APIE)

**Answer:**

---

## Question 5

How does polymorphism solve the `isinstance()` code smell in this example? Write code that prints the report in the `reports` list.

```python
class AccountingReport(Report):
    def print_report(self):  # Same method name
        # accounting-specific implementation

class StaffingReport(Report):
    def print_report(self):  # Same method name
        # staffing-specific implementation

reports = [AccountReport(), StaffingReport()]
```

(Hint: We can remove the if statement)

---

**Solution**:

---

## Question 6

What occurs when using inheritance for every possible combination of features, leading to an exponential growth in the number of classes.

(Hint: This is an example of misusing inheritance and the reason why we need to use composition)

---

**Answer:**

---

## Question 7

If you have employees with different job types AND different shifts:

- Manager + Morning Shift → MorningManager
- Manager + Afternoon Shift → AfternoonManager  
- Mechanic + Morning Shift → MorningMechanic
- etc.

When we need more features, we have an explosive number of classes to support. What do we call this issue?

---

**Answer:**

---

## Question 8

I have a Color class, and I need to add a Shape, and then add a Size. What problem do you see in this addition?

---

**Answer:**

---

## Question 9

Explain how composition solves the "explosion of classes" problem?

(Hint: use the "has-a" relationship instead of "is-a")

---

**Answer:**

---

## Question 10

This is an example of using the Employee class, which owns (composes of) Shift to reduce the number of possible classes to support.

What is the name of this OOP technique, and what issue does this technique prevent?

```python
class Employee:
    def __init__(self, name, salary, shift):
        self.name = name
        self.salary = salary
        self.shift = shift  # Composition: Employee HAS-A Shift

class Shift:
    pass

class MorningShift(Shift):
    start_time = "06:00"
    end_time = "14:00"
```

---

**Answer:**

---

## Question 11

(T/F) In a large design, we often utilize inheritance, composition, and aggregation in combination.

---

**Answer:**

---

## Question 12

Which ??# is Inheritance or composition?

1. **??1**: Subclasses inherit from a superclass to remove duplication
2. **??2**: A class owns (is composed of) another class to avoid the explosion of classes  

This combines multiple OOP techniques for optimal design.

---

**Answer:**

---

## Question 13

Which should we favor, composition vs inheritance?

---

**Answer:**

---

## Question 14

This is a list of the benefits of composition. Which is wrong?

- Avoids class explosion
- More flexible than inheritance
- Easier to extend and maintain
- Better separation of concerns
- Can change behavior at runtime
- Supports multiple "is-a" relationships

---

## Summary

We have 14 questions on this page.

1. How many questions did you answer? ( /14)
2. What percentage of questions did you answer? (  %)
3. List question numbers that you cannot answer:
4. (Optional) Explain why you could not answer these questions.